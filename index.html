<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHUY·∫æN XE T·∫æT 2026 - H√ÄNH TR√åNH C·∫¢M X√öC</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="web-logo-left">
        <img src="Picture/LogoPhuongTrangtach.png" alt="Logo Sponsor">
    </div>

    <audio id="bg-music" loop>
        <source src="Music/Nhacnenwebnhomloc1.mp3" type="audio/mpeg">
    </audio>
    <audio id="click-sound">
        <source src="Music/SoundClick.mp3" type="audio/mpeg">
    </audio>

    <div class="controls-left">
        <button id="music-control" class="music-btn glass-ios">üéµ B·∫≠t Nh·∫°c Xu√¢n</button>
    </div>

    <header class="header-center">
        <h1 class="tet-title">
            <span class="symbol">üèÆ</span>
            <span class="main-text">T·∫æT CH·∫†M Y√äU TH∆Ø∆†NG</span>
            <span class="symbol">üèÆ</span>
        </h1>
        <p class="subtitle">H√ÄNH TR√åNH ƒêO√ÄN VI√äN ‚Ä¢ K·∫æT N·ªêI C·∫¢M X√öC</p>
    </header>

    <main class="container">
        <section class="map-section">
            <div id="capture-area" class="map-frame">
                
                <div id="user-bg-decor-layer" class="map-decor-layer"></div>

                <div id="heart-layer" class="map-decor-layer" style="z-index: 20;"></div>

                <div class="map-logo-right">
                    <img src="Picture/LogoPhuongTrangtach.png" alt="Sponsor" crossOrigin="anonymous">
                </div>

                <div class="map-wrapper">
                    <img src="Picture/BandoVNkhongchutach.png" alt="B·∫£n ƒë·ªì Vi·ªát Nam" id="map-img" crossOrigin="anonymous">
                    
                    <div id="marker">
                        <div class="ring"></div>
                        <div class="center-dot"></div>
                        <div id="province-info" class="glass-ios">
                            <div id="province-label">T√™n T·ªânh</div>
                            <div id="participation-count">0 ng∆∞·ªùi tham gia</div>
                        </div>
                    </div>
                </div>

                <div id="result-overlay" class="result-card" style="display: none;">
                    <div class="result-inner-border glass-ios-card">
                        <h4 id="result-name-display" class="result-name"></h4> 
                        
                        <div id="result-media-container" class="media-display-box" style="display: none;"></div>

                        <p id="result-message" class="result-message-text"></p>
                    </div>
                </div>

            </div>
        </section>

        <section class="sidebar-section">
            <div class="glass-container glass-ios">
                
                <div id="step-1-province">
                    <h2 class="section-label">üìç Ch·ªçn qu√™ h∆∞∆°ng c·ªßa b·∫°n</h2>
                    <div class="province-grid" id="province-list">
                        <div class="province-item" data-x="8.9" data-y="14.0">ƒêi·ªán Bi√™n</div>
                        <div class="province-item" data-x="9.5" data-y="9.0">Lai Ch√¢u</div>
                        <div class="province-item" data-x="15.5" data-y="10.0">L√†o Cai</div>
                        <div class="province-item" data-x="24.5" data-y="10.5">Tuy√™n Quang</div>
                        <div class="province-item" data-x="30" data-y="13.9">Th√°i Nguy√™n</div>
                        <div class="province-item" data-x="30.9" data-y="6.5">Cao B·∫±ng</div>
                        <div class="province-item" data-x="35.2" data-y="11.8">L·∫°ng S∆°n</div>
                        <div class="province-item" data-x="13.5" data-y="16.5">S∆°n La</div>
                        <div class="province-item" data-x="23.5" data-y="17.8">Ph√∫ Th·ªç</div>
                        <div class="province-item" data-x="32.0" data-y="15.9">B·∫Øc Ninh</div>
                        <div class="province-item" data-x="40.5" data-y="16">Qu·∫£ng Ninh</div>
                        <div class="province-item" data-x="30.0" data-y="18.9">H√† N·ªôi</div>
                        <div class="province-item" data-x="35.5" data-y="18.8">H·∫£i Ph√≤ng</div>
                        <div class="province-item" data-x="34.8" data-y="22.2">H∆∞ng Y√™n</div>
                        <div class="province-item" data-x="32.5" data-y="23.9">Ninh B√¨nh</div>
                        <div class="province-item" data-x="28.0" data-y="25.0">Thanh H√≥a</div>
                        <div class="province-item" data-x="24.0" data-y="32.0">Ngh·ªá An</div>
                        <div class="province-item" data-x="29.0" data-y="36.5">H√† Tƒ©nh</div>
                        <div class="province-item" data-x="36.0" data-y="45.0">Qu·∫£ng Tr·ªã</div>
                        <div class="province-item" data-x="43.0" data-y="50.0">Hu·∫ø</div>
                        <div class="province-item" data-x="47.0" data-y="55.0">ƒê√† N·∫µng</div>
                        <div class="province-item" data-x="50.0" data-y="59.0">Qu·∫£ng Ng√£i</div>
                        <div class="province-item" data-x="51.0" data-y="65.0">Gia Lai</div>
                        <div class="province-item" data-x="50.0" data-y="73.0">ƒê·∫Øk L·∫Øk</div>
                        <div class="province-item" data-x="54.0" data-y="77.0">Kh√°nh H√≤a</div>
                        <div class="province-item" data-x="46.0" data-y="80.0">L√¢m ƒê·ªìng</div>
                        <div class="province-item" data-x="40.0" data-y="81.5">ƒê·ªìng Nai</div>
                        <div class="province-item" data-x="36.0" data-y="85.5">TP HCM</div>
                        <div class="province-item" data-x="33.0" data-y="86.5">T√¢y Ninh</div>
                        <div class="province-item" data-x="30.0" data-y="88.0">ƒê·ªìng Th√°p</div>
                        <div class="province-item" data-x="33.0" data-y="90.5">Vƒ©nh Long</div>
                        <div class="province-item" data-x="23.5" data-y="89.0">An Giang</div>
                        <div class="province-item" data-x="29.0" data-y="92.8">C·∫ßn Th∆°</div>
                        <div class="province-item" data-x="24.0" data-y="97.0">C√† Mau</div>
                    </div>
                </div>

                <div id="step-2-creator" style="display: none;">
                    <div class="creator-header">
                        <h3 class="step-title">‚ú® G·ª≠i G·∫Øm Y√™u Th∆∞∆°ng ‚ú®</h3>
                        <button id="back-btn" class="small-btn glass-ios">‚Ü© Ch·ªçn l·∫°i</button>
                    </div>
                    
                    <div class="input-group">
                        <label>T√™n c·ªßa b·∫°n:</label>
                        <input type="text" id="user-name" class="custom-input glass-input" placeholder="Nh·∫≠p t√™n hi·ªÉn th·ªã..." maxlength="20">
                    </div>

                    <div class="input-group">
                        <label>Ch·ªçn c√¢u m·ªü ƒë·∫ßu:</label>
                        <select id="sentence-starter" class="custom-select glass-input">
                            <option value="T·∫øt nƒÉm ƒë√≥, t√¥i nh·ªõ nh·∫•t l√†">T·∫øt nƒÉm ƒë√≥, t√¥i nh·ªõ nh·∫•t l√†...</option>
                            <option value="M·ªói l·∫ßn nghƒ© ƒë·∫øn nh√†, t√¥i nh·ªõ">M·ªói l·∫ßn nghƒ© ƒë·∫øn nh√†, t√¥i nh·ªõ...</option>
                            <option value="M√≥n ƒÉn T·∫øt l√†m t√¥i nh·ªõ nh√† nh·∫•t l√†">M√≥n ƒÉn T·∫øt l√†m t√¥i nh·ªõ nh√† nh·∫•t l√†...</option>
                            <option value="Ng∆∞·ªùi t√¥i mu·ªën g·∫∑p nh·∫•t m·ªói d·ªãp T·∫øt l√†">Ng∆∞·ªùi t√¥i mu·ªën g·∫∑p nh·∫•t m·ªói d·ªãp T·∫øt l√†...</option>
                            <option value="T·∫øt nƒÉm nay t√¥i kh√¥ng v·ªÅ, nh∆∞ng">T·∫øt nƒÉm nay t√¥i kh√¥ng v·ªÅ, nh∆∞ng...</option>
                            <option value="Nh√† t√¥i c√°ch ƒë√¢y ___ km, v√† t√¥i nh·ªõ">Nh√† t√¥i c√°ch ƒë√¢y ___ km, v√† t√¥i nh·ªõ...</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label>Vi·∫øt ti·∫øp c√¢u chuy·ªán (T·ªëi ƒëa 1000 k√Ω t·ª±):</label>
                        <textarea id="user-content" class="glass-input" placeholder="..." maxlength="1000"></textarea>
                    </div>

                    <div class="sticker-section">
                        <label>Ch·ªçn t·ªëi ƒëa 3 Sticker trang tr√≠:</label>
                        <div class="sticker-grid custom-scroll">
                            <img src="Picture/Sticker1.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker2.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker3.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker4.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker5.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker6.jpg" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker7.jpg" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker8.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker9.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker10.png" class="sticker-opt" onclick="selectSticker(this)">
                            <img src="Picture/Sticker11.png" class="sticker-opt" onclick="selectSticker(this)">
                        </div>
                    </div>

                    <button id="update-map-btn" class="submit-btn full-width">üìå Ghim L√™n B·∫£n ƒê·ªì</button>
                    <button id="download-btn" class="download-btn full-width" style="display: none; margin-top:10px;">üì∏ T·∫£i ·∫¢nh V·ªÅ M√°y</button>
                </div>
            </div>
        </section>
    </main>

    <div id="question-modal" class="modal-overlay">
        <div class="modal-content glass-ios">
            <div class="modal-header">
                <h3>üå∏ T√¢m T√¨nh Ng√†y T·∫øt üå∏</h3>
            </div>
            <div class="modal-body">
                <p id="random-question-text" class="question-display"></p>
                <textarea id="modal-answer" class="glass-input" placeholder="Chia s·∫ª ƒë√¥i d√≤ng c·∫£m x√∫c c·ªßa b·∫°n..."></textarea>
                
                <div class="upload-section" style="margin-top: 15px; text-align: left;">
                    <label for="media-upload" class="upload-label glass-input">
                        üìé ƒê√≠nh k√®m ·∫¢nh ho·∫∑c Video
                    </label>
                    <input type="file" id="media-upload" accept="image/*,video/*" style="display: none;">
                    <div id="file-name-preview" style="font-size: 0.8rem; color: #ffd700; margin-top: 5px; font-style: italic;"></div>
                </div>

            </div>
            <div class="modal-footer">
                <button id="submit-modal-answer" class="submit-btn">G·ª≠i & Ti·∫øp T·ª•c</button>
            </div>
        </div>
    </div>

    <footer class="footer-center">
        <p class="disclaimer">H√†nh tr√¨nh T·∫øt 2026 - K·∫øt n·ªëi nh·ªØng tr√°i tim xa x·ª©.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>